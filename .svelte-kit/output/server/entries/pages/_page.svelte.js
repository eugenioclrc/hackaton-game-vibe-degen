import { c as create_ssr_component, a as subscribe, e as escape, b as each, d as add_attribute, v as validate_component } from "../../chunks/ssr.js";
import { g as gameStore, c as calculateBuildingCost, a as canAfford, B as BUILDINGS } from "../../chunks/game.js";
const css$3 = {
  code: ".building-card.svelte-1suuglm.svelte-1suuglm{margin-bottom:1rem}.content.svelte-1suuglm.svelte-1suuglm{padding:0.5rem}.flavor.svelte-1suuglm.svelte-1suuglm{font-size:0.875rem;font-style:italic;color:#ccc;margin-bottom:0.5rem}.stats.svelte-1suuglm.svelte-1suuglm{margin-bottom:0.5rem}.cost.svelte-1suuglm.svelte-1suuglm{font-size:0.875rem}.cost.affordable.svelte-1suuglm.svelte-1suuglm{color:#92cc41}.cost.expensive.svelte-1suuglm.svelte-1suuglm{color:#e76e55}.production.svelte-1suuglm.svelte-1suuglm{margin-bottom:0.5rem;font-size:0.75rem}.production.svelte-1suuglm small.svelte-1suuglm{display:block;margin-bottom:0.25rem}.consume.svelte-1suuglm.svelte-1suuglm{color:#ff6b6b}.buttons.svelte-1suuglm.svelte-1suuglm{display:flex;gap:0.5rem}.buttons.svelte-1suuglm button.svelte-1suuglm{flex:1}@media(max-width: 480px){.buttons.svelte-1suuglm.svelte-1suuglm{flex-direction:column}}",
  map: '{"version":3,"file":"BuildingCard.svelte","sources":["BuildingCard.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { gameStore } from \\"../stores/game\\";\\nimport { calculateBuildingCost, canAfford } from \\"../data/buildings\\";\\nexport let building;\\n$: owned = $gameStore.owned[building.id] || 0;\\n$: cost = calculateBuildingCost(building, owned);\\n$: affordable = canAfford(cost, $gameStore.resources);\\nfunction formatCost(cost2) {\\n  return Object.entries(cost2).map(([res, val]) => `${res}: ${val}`).join(\\", \\");\\n}\\nfunction buy(qty) {\\n  gameStore.buyBuilding(building.id, qty);\\n}\\n<\/script>\\n\\n<div class=\\"building-card nes-container with-title\\">\\n  <p class=\\"title\\">{building.name}</p>\\n\\n  <div class=\\"content\\">\\n    <p class=\\"flavor\\">{building.flavor}</p>\\n\\n    <div class=\\"stats\\">\\n      <p><strong>Owned:</strong> {owned}</p>\\n      <p class=\\"cost\\" class:affordable class:expensive={!affordable}>\\n        <strong>Costo:</strong>\\n        {formatCost(cost)}\\n      </p>\\n    </div>\\n\\n    <div class=\\"production\\">\\n      <small>\\n        Produce:\\n        {#each Object.entries(building.baseProd) as [res, val]}\\n          <span>{res} +{val}/s</span>\\n        {/each}\\n      </small>\\n      {#if building.consumes}\\n        <small class=\\"consume\\">\\n          Consume:\\n          {#each Object.entries(building.consumes) as [res, val]}\\n            <span>{res} -{val}/s</span>\\n          {/each}\\n        </small>\\n      {/if}\\n    </div>\\n\\n    <div class=\\"buttons\\">\\n      <button class=\\"nes-btn is-primary\\" disabled={!affordable} on:click={() => buy(1)}>\\n        x1\\n      </button>\\n      <button class=\\"nes-btn is-primary\\" disabled={!affordable} on:click={() => buy(10)}>\\n        x10\\n      </button>\\n      <button class=\\"nes-btn is-primary\\" disabled={!affordable} on:click={() => buy(100)}>\\n        x100\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n\\n<style>\\n  .building-card {\\n    margin-bottom: 1rem;\\n  }\\n\\n  .content {\\n    padding: 0.5rem;\\n  }\\n\\n  .flavor {\\n    font-size: 0.875rem;\\n    font-style: italic;\\n    color: #ccc;\\n    margin-bottom: 0.5rem;\\n  }\\n\\n  .stats {\\n    margin-bottom: 0.5rem;\\n  }\\n\\n  .cost {\\n    font-size: 0.875rem;\\n  }\\n\\n  .cost.affordable {\\n    color: #92cc41;\\n  }\\n\\n  .cost.expensive {\\n    color: #e76e55;\\n  }\\n\\n  .production {\\n    margin-bottom: 0.5rem;\\n    font-size: 0.75rem;\\n  }\\n\\n  .production small {\\n    display: block;\\n    margin-bottom: 0.25rem;\\n  }\\n\\n  .consume {\\n    color: #ff6b6b;\\n  }\\n\\n  .buttons {\\n    display: flex;\\n    gap: 0.5rem;\\n  }\\n\\n  .buttons button {\\n    flex: 1;\\n  }\\n\\n  @media (max-width: 480px) {\\n    .buttons {\\n      flex-direction: column;\\n    }\\n  }\\n</style>\\n"],"names":[],"mappings":"AA4DE,4CAAe,CACb,aAAa,CAAE,IACjB,CAEA,sCAAS,CACP,OAAO,CAAE,MACX,CAEA,qCAAQ,CACN,SAAS,CAAE,QAAQ,CACnB,UAAU,CAAE,MAAM,CAClB,KAAK,CAAE,IAAI,CACX,aAAa,CAAE,MACjB,CAEA,oCAAO,CACL,aAAa,CAAE,MACjB,CAEA,mCAAM,CACJ,SAAS,CAAE,QACb,CAEA,KAAK,yCAAY,CACf,KAAK,CAAE,OACT,CAEA,KAAK,wCAAW,CACd,KAAK,CAAE,OACT,CAEA,yCAAY,CACV,aAAa,CAAE,MAAM,CACrB,SAAS,CAAE,OACb,CAEA,0BAAW,CAAC,oBAAM,CAChB,OAAO,CAAE,KAAK,CACd,aAAa,CAAE,OACjB,CAEA,sCAAS,CACP,KAAK,CAAE,OACT,CAEA,sCAAS,CACP,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,MACP,CAEA,uBAAQ,CAAC,qBAAO,CACd,IAAI,CAAE,CACR,CAEA,MAAO,YAAY,KAAK,CAAE,CACxB,sCAAS,CACP,cAAc,CAAE,MAClB,CACF"}'
};
function formatCost(cost2) {
  return Object.entries(cost2).map(([res, val]) => `${res}: ${val}`).join(", ");
}
const BuildingCard = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let owned;
  let cost;
  let affordable;
  let $gameStore, $$unsubscribe_gameStore;
  $$unsubscribe_gameStore = subscribe(gameStore, (value) => $gameStore = value);
  let { building } = $$props;
  if ($$props.building === void 0 && $$bindings.building && building !== void 0) $$bindings.building(building);
  $$result.css.add(css$3);
  owned = $gameStore.owned[building.id] || 0;
  cost = calculateBuildingCost(building, owned);
  affordable = canAfford(cost, $gameStore.resources);
  $$unsubscribe_gameStore();
  return `<div class="building-card nes-container with-title svelte-1suuglm"><p class="title">${escape(building.name)}</p> <div class="content svelte-1suuglm"><p class="flavor svelte-1suuglm">${escape(building.flavor)}</p> <div class="stats svelte-1suuglm"><p><strong data-svelte-h="svelte-wovqbx">Owned:</strong> ${escape(owned)}</p> <p class="${[
    "cost svelte-1suuglm",
    (affordable ? "affordable" : "") + " " + (!affordable ? "expensive" : "")
  ].join(" ").trim()}"><strong data-svelte-h="svelte-1rkaxk">Costo:</strong> ${escape(formatCost(cost))}</p></div> <div class="production svelte-1suuglm"><small class="svelte-1suuglm">Produce:
        ${each(Object.entries(building.baseProd), ([res, val]) => {
    return `<span>${escape(res)} +${escape(val)}/s</span>`;
  })}</small> ${building.consumes ? `<small class="consume svelte-1suuglm">Consume:
          ${each(Object.entries(building.consumes), ([res, val]) => {
    return `<span>${escape(res)} -${escape(val)}/s</span>`;
  })}</small>` : ``}</div> <div class="buttons svelte-1suuglm"><button class="nes-btn is-primary svelte-1suuglm" ${!affordable ? "disabled" : ""}>x1</button> <button class="nes-btn is-primary svelte-1suuglm" ${!affordable ? "disabled" : ""}>x10</button> <button class="nes-btn is-primary svelte-1suuglm" ${!affordable ? "disabled" : ""}>x100</button></div></div> </div>`;
});
const css$2 = {
  code: ".modal-overlay.svelte-1bolr69.svelte-1bolr69{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0, 0, 0, 0.8);display:flex;justify-content:center;align-items:center;z-index:2000}.modal.svelte-1bolr69.svelte-1bolr69{max-width:500px;width:90%;max-height:80vh;overflow-y:auto}.modal-content.svelte-1bolr69.svelte-1bolr69{padding:1rem}.modal-content.svelte-1bolr69 p.svelte-1bolr69{margin-bottom:1rem}.nes-field.svelte-1bolr69.svelte-1bolr69{margin:1rem 0}.warning.svelte-1bolr69.svelte-1bolr69{color:#f7d51d;text-align:center}.buttons.svelte-1bolr69.svelte-1bolr69{display:flex;gap:1rem;justify-content:center;margin-top:1rem}@media(max-width: 480px){.buttons.svelte-1bolr69.svelte-1bolr69{flex-direction:column}}",
  map: `{"version":3,"file":"RebootModal.svelte","sources":["RebootModal.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { gameStore } from \\"../stores/game\\";\\nexport let show = false;\\nlet walletAddress = \\"\\";\\nfunction confirm() {\\n  gameStore.reboot(walletAddress || void 0);\\n  show = false;\\n  walletAddress = \\"\\";\\n}\\nfunction cancel() {\\n  show = false;\\n  walletAddress = \\"\\";\\n}\\n<\/script>\\n\\n{#if show}\\n  <div\\n    class=\\"modal-overlay\\"\\n    on:click={cancel}\\n    on:keydown={(e) => e.key === 'Escape' && cancel()}\\n    role=\\"button\\"\\n    tabindex=\\"-1\\"\\n  >\\n    <div class=\\"modal nes-container with-title is-centered\\" on:click|stopPropagation role=\\"dialog\\">\\n      <p class=\\"title\\">REBOOT</p>\\n\\n      <div class=\\"modal-content\\">\\n        <p>Has ganado <strong>{$gameStore.totalEarned.toFixed(2)} TOKEN</strong></p>\\n\\n        <p>Si quieres, ingresa tu wallet para mintear los tokens:</p>\\n\\n        <div class=\\"nes-field\\">\\n          <label for=\\"wallet_input\\">Wallet (opcional)</label>\\n          <input\\n            type=\\"text\\"\\n            id=\\"wallet_input\\"\\n            class=\\"nes-input\\"\\n            bind:value={walletAddress}\\n            placeholder=\\"0x...\\"\\n          />\\n        </div>\\n\\n        <p class=\\"warning\\">\\n          <small>Esto reiniciará tu progreso pero mantendrás tu contador de Reboots.</small>\\n        </p>\\n\\n        <div class=\\"buttons\\">\\n          <button class=\\"nes-btn is-warning\\" on:click={confirm}>REBOOT</button>\\n          <button class=\\"nes-btn\\" on:click={cancel}>Cancelar</button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n{/if}\\n\\n<style>\\n  .modal-overlay {\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    background-color: rgba(0, 0, 0, 0.8);\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    z-index: 2000;\\n  }\\n\\n  .modal {\\n    max-width: 500px;\\n    width: 90%;\\n    max-height: 80vh;\\n    overflow-y: auto;\\n  }\\n\\n  .modal-content {\\n    padding: 1rem;\\n  }\\n\\n  .modal-content p {\\n    margin-bottom: 1rem;\\n  }\\n\\n  .nes-field {\\n    margin: 1rem 0;\\n  }\\n\\n  .warning {\\n    color: #f7d51d;\\n    text-align: center;\\n  }\\n\\n  .buttons {\\n    display: flex;\\n    gap: 1rem;\\n    justify-content: center;\\n    margin-top: 1rem;\\n  }\\n\\n  @media (max-width: 480px) {\\n    .buttons {\\n      flex-direction: column;\\n    }\\n  }\\n</style>\\n"],"names":[],"mappings":"AAuDE,4CAAe,CACb,QAAQ,CAAE,KAAK,CACf,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,CAAC,CACP,KAAK,CAAE,CAAC,CACR,MAAM,CAAE,CAAC,CACT,gBAAgB,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CACpC,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,MAAM,CACvB,WAAW,CAAE,MAAM,CACnB,OAAO,CAAE,IACX,CAEA,oCAAO,CACL,SAAS,CAAE,KAAK,CAChB,KAAK,CAAE,GAAG,CACV,UAAU,CAAE,IAAI,CAChB,UAAU,CAAE,IACd,CAEA,4CAAe,CACb,OAAO,CAAE,IACX,CAEA,6BAAc,CAAC,gBAAE,CACf,aAAa,CAAE,IACjB,CAEA,wCAAW,CACT,MAAM,CAAE,IAAI,CAAC,CACf,CAEA,sCAAS,CACP,KAAK,CAAE,OAAO,CACd,UAAU,CAAE,MACd,CAEA,sCAAS,CACP,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,IAAI,CACT,eAAe,CAAE,MAAM,CACvB,UAAU,CAAE,IACd,CAEA,MAAO,YAAY,KAAK,CAAE,CACxB,sCAAS,CACP,cAAc,CAAE,MAClB,CACF"}`
};
const RebootModal = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $gameStore, $$unsubscribe_gameStore;
  $$unsubscribe_gameStore = subscribe(gameStore, (value) => $gameStore = value);
  let { show = false } = $$props;
  let walletAddress = "";
  if ($$props.show === void 0 && $$bindings.show && show !== void 0) $$bindings.show(show);
  $$result.css.add(css$2);
  $$unsubscribe_gameStore();
  return `${show ? `<div class="modal-overlay svelte-1bolr69" role="button" tabindex="-1"><div class="modal nes-container with-title is-centered svelte-1bolr69" role="dialog"><p class="title" data-svelte-h="svelte-1tr70r8">REBOOT</p> <div class="modal-content svelte-1bolr69"><p class="svelte-1bolr69">Has ganado <strong>${escape($gameStore.totalEarned.toFixed(2))} TOKEN</strong></p> <p class="svelte-1bolr69" data-svelte-h="svelte-1jw744f">Si quieres, ingresa tu wallet para mintear los tokens:</p> <div class="nes-field svelte-1bolr69"><label for="wallet_input" data-svelte-h="svelte-fpi3lf">Wallet (opcional)</label> <input type="text" id="wallet_input" class="nes-input" placeholder="0x..."${add_attribute("value", walletAddress)}></div> <p class="warning svelte-1bolr69" data-svelte-h="svelte-14lwfib"><small>Esto reiniciará tu progreso pero mantendrás tu contador de Reboots.</small></p> <div class="buttons svelte-1bolr69"><button class="nes-btn is-warning" data-svelte-h="svelte-1arzpbc">REBOOT</button> <button class="nes-btn" data-svelte-h="svelte-1po95or">Cancelar</button></div></div></div></div>` : ``}`;
});
const css$1 = {
  code: ".modal-overlay.svelte-w2kyqc.svelte-w2kyqc{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0, 0, 0, 0.8);display:flex;justify-content:center;align-items:center;z-index:2000}.dialog.svelte-w2kyqc.svelte-w2kyqc{max-width:400px;width:90%}.dialog-content.svelte-w2kyqc.svelte-w2kyqc{padding:1rem}.dialog-content.svelte-w2kyqc p.svelte-w2kyqc{margin-bottom:1.5rem;text-align:center}.buttons.svelte-w2kyqc.svelte-w2kyqc{display:flex;gap:1rem;justify-content:center}@media(max-width: 480px){.buttons.svelte-w2kyqc.svelte-w2kyqc{flex-direction:column}}",
  map: `{"version":3,"file":"ConfirmDialog.svelte","sources":["ConfirmDialog.svelte"],"sourcesContent":["<script lang=\\"ts\\">export let show = false;\\nexport let title = \\"Confirmar\\";\\nexport let message = \\"\\\\xBFEst\\\\xE1s seguro?\\";\\nexport let onConfirm = () => {\\n};\\nfunction confirm() {\\n  onConfirm();\\n  show = false;\\n}\\nfunction cancel() {\\n  show = false;\\n}\\n<\/script>\\n\\n{#if show}\\n  <div class=\\"modal-overlay\\" on:click={cancel} on:keydown={(e) => e.key === 'Escape' && cancel()} role=\\"button\\" tabindex=\\"-1\\">\\n    <div class=\\"dialog nes-container with-title is-centered\\" on:click|stopPropagation role=\\"dialog\\">\\n      <p class=\\"title\\">{title}</p>\\n\\n      <div class=\\"dialog-content\\">\\n        <p>{message}</p>\\n\\n        <div class=\\"buttons\\">\\n          <button class=\\"nes-btn is-error\\" on:click={confirm}>Confirmar</button>\\n          <button class=\\"nes-btn\\" on:click={cancel}>Cancelar</button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n{/if}\\n\\n<style>\\n  .modal-overlay {\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    background-color: rgba(0, 0, 0, 0.8);\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    z-index: 2000;\\n  }\\n\\n  .dialog {\\n    max-width: 400px;\\n    width: 90%;\\n  }\\n\\n  .dialog-content {\\n    padding: 1rem;\\n  }\\n\\n  .dialog-content p {\\n    margin-bottom: 1.5rem;\\n    text-align: center;\\n  }\\n\\n  .buttons {\\n    display: flex;\\n    gap: 1rem;\\n    justify-content: center;\\n  }\\n\\n  @media (max-width: 480px) {\\n    .buttons {\\n      flex-direction: column;\\n    }\\n  }\\n</style>\\n"],"names":[],"mappings":"AAgCE,0CAAe,CACb,QAAQ,CAAE,KAAK,CACf,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,CAAC,CACP,KAAK,CAAE,CAAC,CACR,MAAM,CAAE,CAAC,CACT,gBAAgB,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CACpC,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,MAAM,CACvB,WAAW,CAAE,MAAM,CACnB,OAAO,CAAE,IACX,CAEA,mCAAQ,CACN,SAAS,CAAE,KAAK,CAChB,KAAK,CAAE,GACT,CAEA,2CAAgB,CACd,OAAO,CAAE,IACX,CAEA,6BAAe,CAAC,eAAE,CAChB,aAAa,CAAE,MAAM,CACrB,UAAU,CAAE,MACd,CAEA,oCAAS,CACP,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,IAAI,CACT,eAAe,CAAE,MACnB,CAEA,MAAO,YAAY,KAAK,CAAE,CACxB,oCAAS,CACP,cAAc,CAAE,MAClB,CACF"}`
};
const ConfirmDialog = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let { show = false } = $$props;
  let { title = "Confirmar" } = $$props;
  let { message = "¿Estás seguro?" } = $$props;
  let { onConfirm = () => {
  } } = $$props;
  if ($$props.show === void 0 && $$bindings.show && show !== void 0) $$bindings.show(show);
  if ($$props.title === void 0 && $$bindings.title && title !== void 0) $$bindings.title(title);
  if ($$props.message === void 0 && $$bindings.message && message !== void 0) $$bindings.message(message);
  if ($$props.onConfirm === void 0 && $$bindings.onConfirm && onConfirm !== void 0) $$bindings.onConfirm(onConfirm);
  $$result.css.add(css$1);
  return `${show ? `<div class="modal-overlay svelte-w2kyqc" role="button" tabindex="-1"><div class="dialog nes-container with-title is-centered svelte-w2kyqc" role="dialog"><p class="title">${escape(title)}</p> <div class="dialog-content svelte-w2kyqc"><p class="svelte-w2kyqc">${escape(message)}</p> <div class="buttons svelte-w2kyqc"><button class="nes-btn is-error" data-svelte-h="svelte-n075ky">Confirmar</button> <button class="nes-btn" data-svelte-h="svelte-1po95or">Cancelar</button></div></div></div></div>` : ``}`;
});
const css = {
  code: ".game-container.svelte-oj28ur.svelte-oj28ur{max-width:1400px;margin:0 auto}header.svelte-oj28ur.svelte-oj28ur{margin-bottom:1rem;padding:1rem}.header-content.svelte-oj28ur.svelte-oj28ur{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}h1.svelte-oj28ur.svelte-oj28ur{font-size:1.5rem;margin:0}nav.svelte-oj28ur.svelte-oj28ur{display:flex;gap:0.5rem;flex-wrap:wrap}.resource-bar.svelte-oj28ur.svelte-oj28ur{margin-bottom:1rem;padding:1rem}.resources-info.svelte-oj28ur.svelte-oj28ur{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.token-display.svelte-oj28ur.svelte-oj28ur{font-size:1.5rem}.token-display.svelte-oj28ur .label.svelte-oj28ur{font-weight:bold}.token-display.svelte-oj28ur .value.svelte-oj28ur{color:#ffd700;margin-left:0.5rem}.rate.svelte-oj28ur.svelte-oj28ur{color:#92cc41}.stats.svelte-oj28ur.svelte-oj28ur{display:flex;gap:1rem;margin-bottom:1rem}.actions.svelte-oj28ur.svelte-oj28ur{display:flex;gap:0.5rem}.faucet-section.svelte-oj28ur.svelte-oj28ur{text-align:center;padding:2rem;margin-bottom:1rem}.faucet-btn.svelte-oj28ur.svelte-oj28ur{font-size:1.5rem;padding:1.5rem 3rem;margin-bottom:1rem}.hint.svelte-oj28ur.svelte-oj28ur{margin-top:0.5rem;color:#ccc}.tabs-section.svelte-oj28ur.svelte-oj28ur{margin-bottom:2rem}.tabs.svelte-oj28ur.svelte-oj28ur{display:flex;gap:0.5rem;margin-bottom:1rem}.tab-content.svelte-oj28ur.svelte-oj28ur{min-height:400px}.buildings-list.svelte-oj28ur.svelte-oj28ur{display:grid;grid-template-columns:repeat(auto-fill, minmax(320px, 1fr));gap:1rem}.footer.svelte-oj28ur.svelte-oj28ur{padding:1rem;margin-top:2rem}.prestige-actions.svelte-oj28ur.svelte-oj28ur{display:flex;gap:1rem;margin-bottom:1rem;flex-wrap:wrap;justify-content:center}.legal.svelte-oj28ur.svelte-oj28ur{text-align:center;color:#ccc}@media(max-width: 768px){h1.svelte-oj28ur.svelte-oj28ur{font-size:1.2rem}.header-content.svelte-oj28ur.svelte-oj28ur{flex-direction:column;align-items:stretch}nav.svelte-oj28ur.svelte-oj28ur{justify-content:center}.faucet-btn.svelte-oj28ur.svelte-oj28ur{font-size:1.2rem;padding:1rem 2rem}.buildings-list.svelte-oj28ur.svelte-oj28ur{grid-template-columns:1fr}.tabs.svelte-oj28ur.svelte-oj28ur{flex-direction:column}.prestige-actions.svelte-oj28ur.svelte-oj28ur{flex-direction:column}}@media(max-width: 360px){h1.svelte-oj28ur.svelte-oj28ur{font-size:1rem}.faucet-btn.svelte-oj28ur.svelte-oj28ur{font-size:1rem;padding:0.75rem 1.5rem}}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { gameStore } from \\"$lib/stores/game\\";\\nimport { BUILDINGS } from \\"$lib/data/buildings\\";\\nimport BuildingCard from \\"$lib/components/BuildingCard.svelte\\";\\nimport UpgradesModal from \\"$lib/components/UpgradesModal.svelte\\";\\nimport RebootModal from \\"$lib/components/RebootModal.svelte\\";\\nimport ConfirmDialog from \\"$lib/components/ConfirmDialog.svelte\\";\\nimport { onMount } from \\"svelte\\";\\nlet activeTab = \\"buildings\\";\\nlet showRebootModal = false;\\nlet showResetDialog = false;\\n$: unlockedBuildings = BUILDINGS.filter((b) => $gameStore.unlocked.has(b.id));\\n$: tokenPerSec = calculateTokenPerSec();\\nfunction calculateTokenPerSec() {\\n  let total = 0;\\n  BUILDINGS.forEach((building) => {\\n    const qty = $gameStore.owned[building.id];\\n    if (qty > 0 && building.baseProd.TOKEN) {\\n      let amount = building.baseProd.TOKEN * qty;\\n      $gameStore.upgradesOwned.forEach((upId) => {\\n        const upgrade = $gameStore.upgradesOwned.find((id) => id === upId);\\n        if (upgrade) {\\n          import(\\"$lib/data/upgrades\\").then(({ UPGRADES }) => {\\n            const up = UPGRADES.find((u) => u.id === upId);\\n            if (up && up.effect.building === building.id) {\\n              amount *= up.effect.multiplier;\\n            }\\n          });\\n        }\\n      });\\n      total += amount;\\n    }\\n  });\\n  return total;\\n}\\nfunction handleFaucetClick() {\\n  gameStore.clickFaucet();\\n}\\nfunction handleKeydown(e) {\\n  if (e.code === \\"Space\\" && e.target === document.body) {\\n    e.preventDefault();\\n    handleFaucetClick();\\n  }\\n}\\nfunction openReboot() {\\n  showRebootModal = true;\\n}\\nfunction openReset() {\\n  showResetDialog = true;\\n}\\nfunction confirmReset() {\\n  gameStore.hardReset();\\n}\\nfunction formatNumber(num) {\\n  if (num >= 1e12) return (num / 1e12).toFixed(2) + \\"T\\";\\n  if (num >= 1e9) return (num / 1e9).toFixed(2) + \\"B\\";\\n  if (num >= 1e6) return (num / 1e6).toFixed(2) + \\"M\\";\\n  if (num >= 1e3) return (num / 1e3).toFixed(2) + \\"K\\";\\n  return num.toFixed(2);\\n}\\nonMount(() => {\\n  window.addEventListener(\\"keydown\\", handleKeydown);\\n  return () => {\\n    window.removeEventListener(\\"keydown\\", handleKeydown);\\n  };\\n});\\n<\/script>\\n\\n<svelte:head>\\n  <title>Crypto Clicker: Degen Edition</title>\\n</svelte:head>\\n\\n<div class=\\"game-container\\">\\n  <header class=\\"nes-container is-dark\\">\\n    <div class=\\"header-content\\">\\n      <h1>Crypto Clicker: Degen Simulator</h1>\\n      <nav>\\n        <a href=\\"/\\" class=\\"nes-btn\\">Juego</a>\\n        <a href=\\"/credits\\" class=\\"nes-btn\\">Créditos</a>\\n        <a href=\\"/changelog\\" class=\\"nes-btn\\">Changelog</a>\\n        <a href=\\"/privacy\\" class=\\"nes-btn\\">Privacidad</a>\\n      </nav>\\n    </div>\\n  </header>\\n\\n  <main>\\n    <section class=\\"resource-bar nes-container is-dark\\">\\n      <div class=\\"resources-info\\">\\n        <div class=\\"token-display\\">\\n          <span class=\\"label\\">TOKEN:</span>\\n          <span class=\\"value\\">{formatNumber($gameStore.resources.TOKEN)}</span>\\n        </div>\\n        <div class=\\"rate\\">\\n          <small>+{formatNumber(tokenPerSec)}/s</small>\\n        </div>\\n      </div>\\n      \\n      <div class=\\"stats\\">\\n        <small>Total: {formatNumber($gameStore.totalEarned)}</small>\\n        <small>Reboots: {$gameStore.reboots}</small>\\n      </div>\\n\\n      <div class=\\"actions\\">\\n        <button class=\\"nes-btn is-primary\\" on:click={() => gameStore.manualSave()}>Guardar</button>\\n      </div>\\n    </section>\\n\\n    <section class=\\"faucet-section nes-container\\">\\n      <button class=\\"nes-btn is-primary faucet-btn\\" on:click={handleFaucetClick}>\\n        FAUCET\\n      </button>\\n\\n      <p class=\\"hint\\">\\n        <small>Presiona ESPACIO para obtener TOKEN</small>\\n      </p>\\n    </section>\\n\\n    <section class=\\"tabs-section\\">\\n      <div class=\\"tabs\\">\\n        <button\\n          class=\\"nes-btn\\"\\n          class:is-primary={activeTab === 'buildings'}\\n          on:click={() => (activeTab = 'buildings')}\\n        >\\n          Edificios\\n        </button>\\n        <button\\n          class=\\"nes-btn\\"\\n          class:is-primary={activeTab === 'upgrades'}\\n          on:click={() => (activeTab = 'upgrades')}\\n        >\\n          Upgrades\\n        </button>\\n      </div>\\n\\n      <div class=\\"tab-content\\">\\n        {#if activeTab === 'buildings'}\\n          <div class=\\"buildings-list\\">\\n            {#each unlockedBuildings as building (building.id)}\\n              <BuildingCard {building} />\\n            {/each}\\n          </div>\\n        {:else}\\n          <UpgradesModal />\\n        {/if}\\n      </div>\\n    </section>\\n  </main>\\n\\n  <footer class=\\"footer nes-container\\">\\n    <div class=\\"prestige-actions\\">\\n      <button class=\\"nes-btn is-warning\\" on:click={openReboot}>REBOOT</button>\\n      <button class=\\"nes-btn is-error\\" on:click={openReset}>Reset Duro</button>\\n    </div>\\n\\n    <div class=\\"legal\\">\\n      <small>\\n        Juego de ficción/parodia. NO consejos financieros. No enseñamos ni fomentamos prácticas\\n        indebidas.\\n      </small>\\n    </div>\\n  </footer>\\n</div>\\n\\n<RebootModal bind:show={showRebootModal} />\\n<ConfirmDialog\\n  bind:show={showResetDialog}\\n  title=\\"Reset Duro\\"\\n  message=\\"Esto borrará TODO tu progreso. ¿Seguro?\\"\\n  onConfirm={confirmReset}\\n/>\\n\\n<style>\\n  .game-container {\\n    max-width: 1400px;\\n    margin: 0 auto;\\n  }\\n\\n  header {\\n    margin-bottom: 1rem;\\n    padding: 1rem;\\n  }\\n\\n  .header-content {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    flex-wrap: wrap;\\n    gap: 1rem;\\n  }\\n\\n  h1 {\\n    font-size: 1.5rem;\\n    margin: 0;\\n  }\\n\\n  nav {\\n    display: flex;\\n    gap: 0.5rem;\\n    flex-wrap: wrap;\\n  }\\n\\n  .resource-bar {\\n    margin-bottom: 1rem;\\n    padding: 1rem;\\n  }\\n\\n  .resources-info {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    margin-bottom: 1rem;\\n  }\\n\\n  .token-display {\\n    font-size: 1.5rem;\\n  }\\n\\n  .token-display .label {\\n    font-weight: bold;\\n  }\\n\\n  .token-display .value {\\n    color: #ffd700;\\n    margin-left: 0.5rem;\\n  }\\n\\n  .rate {\\n    color: #92cc41;\\n  }\\n\\n  .stats {\\n    display: flex;\\n    gap: 1rem;\\n    margin-bottom: 1rem;\\n  }\\n\\n  .actions {\\n    display: flex;\\n    gap: 0.5rem;\\n  }\\n\\n  .faucet-section {\\n    text-align: center;\\n    padding: 2rem;\\n    margin-bottom: 1rem;\\n  }\\n\\n  .faucet-btn {\\n    font-size: 1.5rem;\\n    padding: 1.5rem 3rem;\\n    margin-bottom: 1rem;\\n  }\\n\\n  .hint {\\n    margin-top: 0.5rem;\\n    color: #ccc;\\n  }\\n\\n  .tabs-section {\\n    margin-bottom: 2rem;\\n  }\\n\\n  .tabs {\\n    display: flex;\\n    gap: 0.5rem;\\n    margin-bottom: 1rem;\\n  }\\n\\n  .tab-content {\\n    min-height: 400px;\\n  }\\n\\n  .buildings-list {\\n    display: grid;\\n    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\\n    gap: 1rem;\\n  }\\n\\n  .footer {\\n    padding: 1rem;\\n    margin-top: 2rem;\\n  }\\n\\n  .prestige-actions {\\n    display: flex;\\n    gap: 1rem;\\n    margin-bottom: 1rem;\\n    flex-wrap: wrap;\\n    justify-content: center;\\n  }\\n\\n  .legal {\\n    text-align: center;\\n    color: #ccc;\\n  }\\n\\n  @media (max-width: 768px) {\\n    h1 {\\n      font-size: 1.2rem;\\n    }\\n\\n    .header-content {\\n      flex-direction: column;\\n      align-items: stretch;\\n    }\\n\\n    nav {\\n      justify-content: center;\\n    }\\n\\n    .faucet-btn {\\n      font-size: 1.2rem;\\n      padding: 1rem 2rem;\\n    }\\n\\n    .buildings-list {\\n      grid-template-columns: 1fr;\\n    }\\n\\n    .tabs {\\n      flex-direction: column;\\n    }\\n\\n    .prestige-actions {\\n      flex-direction: column;\\n    }\\n  }\\n\\n  @media (max-width: 360px) {\\n    h1 {\\n      font-size: 1rem;\\n    }\\n\\n    .faucet-btn {\\n      font-size: 1rem;\\n      padding: 0.75rem 1.5rem;\\n    }\\n  }\\n</style>\\n"],"names":[],"mappings":"AA4KE,2CAAgB,CACd,SAAS,CAAE,MAAM,CACjB,MAAM,CAAE,CAAC,CAAC,IACZ,CAEA,kCAAO,CACL,aAAa,CAAE,IAAI,CACnB,OAAO,CAAE,IACX,CAEA,2CAAgB,CACd,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,CAC9B,WAAW,CAAE,MAAM,CACnB,SAAS,CAAE,IAAI,CACf,GAAG,CAAE,IACP,CAEA,8BAAG,CACD,SAAS,CAAE,MAAM,CACjB,MAAM,CAAE,CACV,CAEA,+BAAI,CACF,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,MAAM,CACX,SAAS,CAAE,IACb,CAEA,yCAAc,CACZ,aAAa,CAAE,IAAI,CACnB,OAAO,CAAE,IACX,CAEA,2CAAgB,CACd,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,CAC9B,WAAW,CAAE,MAAM,CACnB,aAAa,CAAE,IACjB,CAEA,0CAAe,CACb,SAAS,CAAE,MACb,CAEA,4BAAc,CAAC,oBAAO,CACpB,WAAW,CAAE,IACf,CAEA,4BAAc,CAAC,oBAAO,CACpB,KAAK,CAAE,OAAO,CACd,WAAW,CAAE,MACf,CAEA,iCAAM,CACJ,KAAK,CAAE,OACT,CAEA,kCAAO,CACL,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,IAAI,CACT,aAAa,CAAE,IACjB,CAEA,oCAAS,CACP,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,MACP,CAEA,2CAAgB,CACd,UAAU,CAAE,MAAM,CAClB,OAAO,CAAE,IAAI,CACb,aAAa,CAAE,IACjB,CAEA,uCAAY,CACV,SAAS,CAAE,MAAM,CACjB,OAAO,CAAE,MAAM,CAAC,IAAI,CACpB,aAAa,CAAE,IACjB,CAEA,iCAAM,CACJ,UAAU,CAAE,MAAM,CAClB,KAAK,CAAE,IACT,CAEA,yCAAc,CACZ,aAAa,CAAE,IACjB,CAEA,iCAAM,CACJ,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,MAAM,CACX,aAAa,CAAE,IACjB,CAEA,wCAAa,CACX,UAAU,CAAE,KACd,CAEA,2CAAgB,CACd,OAAO,CAAE,IAAI,CACb,qBAAqB,CAAE,OAAO,SAAS,CAAC,CAAC,OAAO,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAC5D,GAAG,CAAE,IACP,CAEA,mCAAQ,CACN,OAAO,CAAE,IAAI,CACb,UAAU,CAAE,IACd,CAEA,6CAAkB,CAChB,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,IAAI,CACT,aAAa,CAAE,IAAI,CACnB,SAAS,CAAE,IAAI,CACf,eAAe,CAAE,MACnB,CAEA,kCAAO,CACL,UAAU,CAAE,MAAM,CAClB,KAAK,CAAE,IACT,CAEA,MAAO,YAAY,KAAK,CAAE,CACxB,8BAAG,CACD,SAAS,CAAE,MACb,CAEA,2CAAgB,CACd,cAAc,CAAE,MAAM,CACtB,WAAW,CAAE,OACf,CAEA,+BAAI,CACF,eAAe,CAAE,MACnB,CAEA,uCAAY,CACV,SAAS,CAAE,MAAM,CACjB,OAAO,CAAE,IAAI,CAAC,IAChB,CAEA,2CAAgB,CACd,qBAAqB,CAAE,GACzB,CAEA,iCAAM,CACJ,cAAc,CAAE,MAClB,CAEA,6CAAkB,CAChB,cAAc,CAAE,MAClB,CACF,CAEA,MAAO,YAAY,KAAK,CAAE,CACxB,8BAAG,CACD,SAAS,CAAE,IACb,CAEA,uCAAY,CACV,SAAS,CAAE,IAAI,CACf,OAAO,CAAE,OAAO,CAAC,MACnB,CACF"}`
};
function formatNumber(num) {
  if (num >= 1e12) return (num / 1e12).toFixed(2) + "T";
  if (num >= 1e9) return (num / 1e9).toFixed(2) + "B";
  if (num >= 1e6) return (num / 1e6).toFixed(2) + "M";
  if (num >= 1e3) return (num / 1e3).toFixed(2) + "K";
  return num.toFixed(2);
}
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let unlockedBuildings;
  let tokenPerSec;
  let $gameStore, $$unsubscribe_gameStore;
  $$unsubscribe_gameStore = subscribe(gameStore, (value) => $gameStore = value);
  let showRebootModal = false;
  let showResetDialog = false;
  function calculateTokenPerSec() {
    let total = 0;
    BUILDINGS.forEach((building) => {
      const qty = $gameStore.owned[building.id];
      if (qty > 0 && building.baseProd.TOKEN) {
        let amount = building.baseProd.TOKEN * qty;
        $gameStore.upgradesOwned.forEach((upId) => {
          const upgrade = $gameStore.upgradesOwned.find((id) => id === upId);
          if (upgrade) {
            import("../../chunks/game.js").then((n) => n.u).then(({ UPGRADES }) => {
              const up = UPGRADES.find((u) => u.id === upId);
              if (up && up.effect.building === building.id) {
                amount *= up.effect.multiplier;
              }
            });
          }
        });
        total += amount;
      }
    });
    return total;
  }
  function confirmReset() {
    gameStore.hardReset();
  }
  $$result.css.add(css);
  let $$settled;
  let $$rendered;
  let previous_head = $$result.head;
  do {
    $$settled = true;
    $$result.head = previous_head;
    unlockedBuildings = BUILDINGS.filter((b) => $gameStore.unlocked.has(b.id));
    tokenPerSec = calculateTokenPerSec();
    $$rendered = `${$$result.head += `<!-- HEAD_svelte-1bcsc98_START -->${$$result.title = `<title>Crypto Clicker: Degen Edition</title>`, ""}<!-- HEAD_svelte-1bcsc98_END -->`, ""} <div class="game-container svelte-oj28ur"><header class="nes-container is-dark svelte-oj28ur" data-svelte-h="svelte-3kjwss"><div class="header-content svelte-oj28ur"><h1 class="svelte-oj28ur">Crypto Clicker: Degen Simulator</h1> <nav class="svelte-oj28ur"><a href="/" class="nes-btn">Juego</a> <a href="/credits" class="nes-btn">Créditos</a> <a href="/changelog" class="nes-btn">Changelog</a> <a href="/privacy" class="nes-btn">Privacidad</a></nav></div></header> <main><section class="resource-bar nes-container is-dark svelte-oj28ur"><div class="resources-info svelte-oj28ur"><div class="token-display svelte-oj28ur"><span class="label svelte-oj28ur" data-svelte-h="svelte-1hbvs8e">TOKEN:</span> <span class="value svelte-oj28ur">${escape(formatNumber($gameStore.resources.TOKEN))}</span></div> <div class="rate svelte-oj28ur"><small>+${escape(formatNumber(tokenPerSec))}/s</small></div></div> <div class="stats svelte-oj28ur"><small>Total: ${escape(formatNumber($gameStore.totalEarned))}</small> <small>Reboots: ${escape($gameStore.reboots)}</small></div> <div class="actions svelte-oj28ur"><button class="nes-btn is-primary" data-svelte-h="svelte-12m9oeo">Guardar</button></div></section> <section class="faucet-section nes-container svelte-oj28ur"><button class="nes-btn is-primary faucet-btn svelte-oj28ur" data-svelte-h="svelte-19xivdg">FAUCET</button> <p class="hint svelte-oj28ur" data-svelte-h="svelte-1myqjsi"><small>Presiona ESPACIO para obtener TOKEN</small></p></section> <section class="tabs-section svelte-oj28ur"><div class="tabs svelte-oj28ur"><button class="${["nes-btn", "is-primary"].join(" ").trim()}" data-svelte-h="svelte-1e2vlqu">Edificios</button> <button class="${["nes-btn", ""].join(" ").trim()}" data-svelte-h="svelte-792wg">Upgrades</button></div> <div class="tab-content svelte-oj28ur">${`<div class="buildings-list svelte-oj28ur">${each(unlockedBuildings, (building) => {
      return `${validate_component(BuildingCard, "BuildingCard").$$render($$result, { building }, {}, {})}`;
    })}</div>`}</div></section></main> <footer class="footer nes-container svelte-oj28ur"><div class="prestige-actions svelte-oj28ur"><button class="nes-btn is-warning" data-svelte-h="svelte-c5jz5v">REBOOT</button> <button class="nes-btn is-error" data-svelte-h="svelte-13bqyvt">Reset Duro</button></div> <div class="legal svelte-oj28ur" data-svelte-h="svelte-12spuzu"><small>Juego de ficción/parodia. NO consejos financieros. No enseñamos ni fomentamos prácticas
        indebidas.</small></div></footer></div> ${validate_component(RebootModal, "RebootModal").$$render(
      $$result,
      { show: showRebootModal },
      {
        show: ($$value) => {
          showRebootModal = $$value;
          $$settled = false;
        }
      },
      {}
    )} ${validate_component(ConfirmDialog, "ConfirmDialog").$$render(
      $$result,
      {
        title: "Reset Duro",
        message: "Esto borrará TODO tu progreso. ¿Seguro?",
        onConfirm: confirmReset,
        show: showResetDialog
      },
      {
        show: ($$value) => {
          showResetDialog = $$value;
          $$settled = false;
        }
      },
      {}
    )}`;
  } while (!$$settled);
  $$unsubscribe_gameStore();
  return $$rendered;
});
export {
  Page as default
};
